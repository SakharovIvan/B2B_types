syntax = "proto3";

package user;

service UserService {
  rpc FindOneByJWT (GetUserRequest) returns (User);
  rpc GetUserRole (GetUserRequest) returns (Role);
  rpc UpdateUserRole (Role) returns (Role);
  rpc GetClientInfoByJWT(GetUserRequest) returns (CliInfo);

  rpc getCliInfoArray(CliInfo) returns (CliInfoArray);
  rpc GetClientInfo(CliInfo) returns (CliInfo);
  rpc getASCInfo(CliInfo) returns (ASCInfo);
  rpc UpsertASCInfo (ASCInfo) returns (ASCInfo);
  rpc CheckClientASCInfo(CliInfo) returns (ASCInfo);
  rpc CommitClientASCInfo(CliInfo) returns (CliInfo);
  rpc CustomerInfo(ASCInfo) returns (ASCInfo);
}

message Role {
  bool admin = 1;
  string type = 2;
  string email = 3; 
}

message CliInfoArray {
  string cliinfo = 1;
}

message ASCInfo {
  string ascInfo = 1;
}

message GetUserRequest {
  string accessToken = 1;
}

message User {
  string id = 1;
  string email = 2;
  string user = 3;
}

message CliInfo {
string id = 1;
string ASCInfo_ID = 2;
string email = 3;
string addres = 4;
string organization_name = 5;
string organization_INN = 6;
string organization_FIO = 7;
bool organization_agreement = 8;
string UserModel_ID = 9;
string createdAt = 10;
string Customer_LegalInfo_id = 11;
}